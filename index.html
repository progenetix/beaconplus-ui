<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <title>Beacon+ - Feature evaluation for the GA4GH ELIXIR Beacon project</title>
  <meta name="google-site-verification" content="D_DC_Zxy3cCmrst5uaScIDD7daZ2_HO7Vhq2ZjfSIMo" />
  <meta name="google-site-verification" content="is7-_LmgwVxd7M4_XIn6psLPjlZyk58QuP-DN7FC44g" />
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/jquery-ui.js"></script>
  <!-- See https://github.com/jeremyfa/yaml.js -->
  <script type="text/javascript" src="js/yaml.min.js"></script>

</head>

<body>

<script type="text/javascript">
  var formExamples = YAML.load('./config/examples.yaml');
</script>

<div class="container">

  <div class="jumbotron" style="margin-bottom: 10px; padding:  20px 20px 30px 20px;">
    <a target="_blank" href="http://beacon-project.io"><img src="./img/beacon_logo_25x70.png" style="float: right;" /></a>
    <h2 style="margin: 0px;">Beacon<span style="vertical-align: super; color: red; font-weight: 800;">+</span></h2>
  </div>

  <div class="panel panel-default" >
    <div class="panel-body">
      <div id="intro-info" class="alert alert-info" style="min-height: 40px; padding-top: 10px;">
        This forward looking Beacon interface implements additional, planned features beyond the current Beacon <a target="_blank" href="http://github.com/ga4gh-beacon/"> specifications</a>. Further information can be found through the <a target="_blank" href="http://beacon-project.io">ELIXIR Beacon website</a>.
      </div>
    </div>
  </div>

  <div class="panel panel-default" style="min-height: 260px">
    <div class="panel-heading" id="query_example_group" style="float: left; width: 100%;">
    &nbsp;
		<div id="help-button" class="btn btn-info" style="float: right; background-color: #c3c3c3; margin: -7px 0px 0px 5px;"><a href="https://info.progenetix.org/tags/Beacon.html" target="_BLANK">Beacon Help</a></div>
    </div>

    <div class="panel-body" style="clear: both;">

      <form class="form-horizontal" id="beacon-form" action="" method="get">

        <div class="form-group">
            <label for="datasetIds" class="col-sm-2 control-label">Dataset<span class="compulsory">*</span></label>
            <div class="col-sm-4">
              <select id="datasetIds" name="datasetIds"  multiple size="6" class="form-control">
              </select>
            </div>
        </div>

        <div class="form-group" id="assemblyId_group">
          <label for="assemblyId" class="col-sm-2 control-label">Genome Assembly<span class="compulsory">*</span></label>
          <div class="col-sm-4">
            <select id="assemblyId" name="assemblyId" class="form-control">
<!--          <option value="GRCh36">GRCh36 / hg18</option>
              <option value="GRCh37">GRCh37 / hg19</option>                  -->
              <option value="GRCh38">GRCh38 / hg38</option>
            </select>
          </div>
        </div>
        
        <div class="form-group">
          <label for="datasetAlleleResponses" class="col-sm-2 control-label">Dataset Responses</label>
          <div class="col-sm-4">
            <select id="includeDatasetResponses" name="includeDatasetResponses" class="form-control">
              <option value="HIT">Datasets With Hits</option>
              <option value="ALL" selected="selected">All Selected Datasets</option>
              <option value="MISS">Datasets Without Hits</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="referenceName" class="col-sm-2 control-label">Reference name<span class="compulsory">*</span></label>
          <div class="col-sm-4">
              <select id="referenceName" name="referenceName" class="form-control">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">2</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="X">X</option>
                <option value="Y">Y</option>
              </select>
          </div>
        </div>

        <div class="form-group" id="variantType_group">
          <label for="variantType" class="col-sm-2 control-label">(structural) variantType</label>
          <div class="col-sm-4">
            <select id="variantType" name="variantType" class="form-control">
              <option value="">Please Select Structural Alteration</option>
              <option value="">Not a structural variant</option>
              <option value="DEL">DEL (Deletion)</option>
              <option value="DUP">DUP (Duplication)</option>
              <option value="BND">BND (Break/Fusion)</option>
            </select>
          </div>
        </div>
        <div class="form-group" id="geneinputField_group" >
          <label for="geneinputField" class="col-sm-2 control-label">Gene Coordinates</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="geneinputField" placeholder="CDKN2A" />
          </div>
        </div>
        <div class="form-group" id="cytoinputField_group" >
          <label for="cytoinputField" class="col-sm-2 control-label">Cytoband(s)</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="cytoinputField" placeholder="8q24.1" />
          </div>
        </div>
        <div class="form-group" id="startMin_group">
            <label for="startMin" class="col-sm-2 control-label">Start <i>min</i> Position<span class="compulsory">*</span></label>
            <div class="col-sm-4">
              <input type="text" class="form-control col-sm-4" name="startMin" id="startMin" placeholder="begin of match start interval, e.g: 20000000" />
            </div>
          </div>
        <div class="form-group" id="startMax_group">
            <label for="startMax" class="col-sm-2 control-label">Start <i>max</i> Position</label>
            <div class="col-sm-4">
              <input type="text" class="form-control" name="startMax" id="startMax" placeholder="end of match start interval, e.g: 21984490" />
            </div>
          </div>
        <div class="form-group" id="endMin_group" >
            <label for="endMin" class="col-sm-2 control-label">End <i>min</i> Position</label>
            <div class="col-sm-4">
              <input type="text" class="form-control" id="endMin" name="endMin" placeholder="begin of match end interval, e.g: 21984490" />
            </div>
          </div>
        <div class="form-group" id="endMax_group">
            <label for="endMax" class="col-sm-2 control-label">End <i>max</i> Position</label>
            <div class="col-sm-4">
              <input type="text" class="form-control" id="endMax" name="endMax" placeholder="end of match end interval, e.g: 25000000" />
            </div>
          </div>
        <div class="form-group" id="start_group">
          <label for="start" class="col-sm-2 control-label">Start</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" name="start" id="start" placeholder="position for exact allelic variant, e.g. 7577121" />
          </div>
        </div>
        <div class="form-group"  id="referenceBases_group">
          <label for="referenceBases" class="col-sm-2 control-label">Ref. Base(s)</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" name="referenceBases" id="referenceBases" placeholder="the reference base for the allele, e.g. G" />
          </div>
        </div>
        <div class="form-group" id="alternateBases_group">
          <label for="alternateBases" class="col-sm-2 control-label">Alt. Base(s)</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" name="alternateBases" id="alternateBases" placeholder="the SNV variant for the allele, e.g. A" />
          </div>
        </div>

<!--
Biosample parameter(s)
-->

        <div id="bioontology_group" class="form-group">
          <label for="bioontology" class="col-sm-2 control-label">Bio-ontology</label>
          <div class="col-sm-4">
            <select id="bioontology" name="bioontology" class="form-control" multiple size="6">
              <option value="" selected="selected">(no selection)</option>
            </select>
          </div>
        </div>

        <div id="materialtype_group" class="form-group">
          <label for="materialtype" class="col-sm-2 control-label">Biosample Type</label>
          <div class="col-sm-4">
            <select id="materialtype" name="materialtype" class="form-control">
              <option value="" selected="selected">(no selection)</option>
              <option value="EFO:0009656">neoplastic sample</option>
              <option value="EFO:0009654">reference sample</option>
            </select>
          </div>
        </div>

        <div id="filters_group" class="form-group">
          <label for="freeFilters" class="col-sm-2 control-label">Other Filters</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" name="freeFilters" id="freeFilters" placeholder="additional comma-separated, prefixed filters" />
          </div>
        </div>

<!--
End of biosample parameter(s)
-->

<!--
        <div class="form-group" id="accessid_group">
          <label for="accessid" class="col-sm-2 control-label">Aggregate on Accessid</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" name="accessid" id="accessid" placeholder="id of previously matched samples" />
          </div>
        </div>
-->

<!--
Submission/error
TODO: A second submit should open a new page with the raw return from the server (currently solved through a link in the table).
-->
        <div class="form-group">
            <div class="col-sm-offset-2">
                <div class="col-sm-2">
                  <button class="btn btn-info">Beacon Query <i class="fa fa-spinner fa-spin" id="spinner" style="display: none"></i></button>
                </div>
            </div>
        </div>

      </form>

    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">Response</div>
    <div class="panel-body">
      <div id="noResult" class="alert alert-warning">
        There were no previous searches yet. Please, perform a query by using the form above.</div>
      <div style="display: none;" id="result">
        <table class="table table-responsive resulttable" id="resultTable">
          <thead>
          <tr>
            <th style="vertical-align: middle;">Dataset</th>
            <th style="vertical-align: middle;">Assembly</th>
            <th style="vertical-align: middle;">Chro</th>
            <th style="vertical-align: middle;">Position<br/>Start Range<br/>End Range</th>
            <th style="vertical-align: middle;">Ref<br/>Alt<br/>Type</th>
            <th style="vertical-align: middle;">Filters</th>
            <th style="vertical-align: middle;">Variants<br/>Calls<br/>Samples</th>
            <th style="vertical-align: middle;"><i>f</i><sub>alleles</sub></th>
            <th style="vertical-align: middle;">Response<br/>Context</th>
          </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="panel panel-default" style="border: none;">
    <div class="panel-body">
      <div style="display: flex; justify-content: space-between;">
        <a href="http://arraymap.org" target="_blank"><img src="./img/arraymap_black_180.png" style="height: 25px; margin: 5px;" /></a>
        <a href="http://progenetix.org" target="_blank"><img src="./img/progenetix_black_180.png" style="height: 25px; margin: 0px 5px 5px 5px;" /></a>
        <div style="min-width: 300px;">
          This Beacon implementation is developed by the
          <a href="//info.baudisgroup.org/" target="_blank">Computational Oncogenomics Group</a> at the
          <a href="https://www.imls.uzh.ch/en/research/baudis.html" target="_blank">University of Zurich</a>, with support from 
          <a href="https://www.sib.swiss/michael-baudis-group" target="_blank">SIB</a>,
          <a href="https://sphn.ch" target="_blank">SPHN</a> and
          <a href="//www.elixir-europe.org" target="_blank">ELIXIR</a>.
        </div>
        <a href="http://www.uzh.ch" target="_blank"><img src="./img/uzh_logo_pos_160x50.png" style="height: 25px; margin: 5px;" /></a>
        <a href="http://elixir-europe.org" target="_blank"><img src="./img/elixir_logo_grey_65x50.png" style="height: 25px; margin: 5px;" /></a>
        <a href="http://sib.swiss" target="_blank"><img src="./img/sib_logo_65x50.png" style="height: 25px; margin: 5px;" /></a>
        <a href="https://sphn.ch" target="_blank"><img src="./img/SPHN_logo_70x50" style="height: 25px; margin: 5px;" /></a>
      </div>
    </div>
  </div>

</div>

<script type="text/javascript" src="js/query.js"></script>
<script type="text/javascript" src="js/form.js"></script>
<script type="text/javascript">
  var cytoinput_field = "cytoinputField";
</script>
<script type="text/javascript">
  var geneinput_field = "geneinputField";
</script>
<script type="text/javascript" src="js/autocomplete-genecoordinates.js"></script>
<script type="text/javascript" src="js/autocomplete-cytobands.js"></script>


<!-- Google -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-572981-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- End of Google -->



</body>
</html>
